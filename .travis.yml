language: cpp
dist: bionic
sudo: true
os: linux

git:
  depth: 1

compiler:
  - clang

before_script:
  - sudo add-apt-repository -y ppa:mhier/libboost-latest
  - sudo apt-get update -y
  - sudo apt-get install -y libboost1.67-dev
  - mkdir build
  - cd build
  - cmake -DFUSION_DOCS=OFF ..

script:
  - cmake --build . --target FusionServerTest --config Release -j 10
  - ./test/FusionServerTest

after_failure:
  - cat ./.build/config.log